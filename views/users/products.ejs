<style>
	.cur-pointer:hover{
		cursor: pointer;
	}
</style>


<div class="hero-wrap hero-bread" style="background-image: url('images/bg_1.jpg');">
	<div class="container">
		<div class="row no-gutters slider-text align-items-center justify-content-center">
			<div class="col-md-9 ftco-animate text-center">
				<p class="breadcrumbs"><span class="mr-2"><a href="index.html"></a></span> <span>Get more on Summer
						Sale</span></p>
				<h1 class="mb-0 bread">Products</h1>
			</div>
		</div>
	</div>
</div>

<section class="ftco-section">
	<div class="container">
		<div class="row justify-content-center">
			<div class="col-md-10 mb-5 text-center">
				<ul class="product-category">
					<li><a href="#" class="h1">Our Products</a></li>
					<!-- <li><a href="#">Vegetables</a></li>
    					<li><a href="#">Fruits</a></li>
    					<li><a href="#">Juice</a></li>
    					<li><a href="#">Dried</a></li> -->
				</ul>
			</div>
		</div>

		<div class="row pl-3 cur-pointer">
			<span class="px-2 my-3" onclick="showAllProducts()">All</span>
			<% categories.forEach(element => { %>
				<span class="px-2 my-3" onclick="selectCategory('<%= element.categoryTitle %>')"><%= element.categoryTitle %></span>
			<% }); %> 
		</div>

		<div class="row">



			<% products.forEach(function(product){ %>
				<div class="col-md-6 col-lg-3 ftco-animate commonClassForProducts <%= product.category %>" >
					<div class="product me-box-shadow rounded" style="height: 350px !important">
						<a href="/product-details?id=<%= product._id %>" class="img-prod"><img class="img-fluid"
								src="/uploads/products/<%=product.img1 %>" alt=" " height="100px">

							<div class="overlay"></div>
						</a>
						<div class="text py-3 pb-4 px-3 text-center">
							<h3>
								<%= product.title %>
							</h3>

							<% if(product.stock == 0){ %> 
								<p class="text-danger">Out of stock.</p>
							<% }else if(product.stock<10){ %> 
								<p class="text-warning">Only few stocks left.</p>
							<% }else{ %> 
								<p class="text-success">In stock.</p>
							<% } %> 


							<div class="d-flex">
								<div class="pricing">
									<% if(product.productOfferActive && product.categoryOfferActive){ %> 
										<span class="stext-105 cl3 d-flex justify-content-between w-100 px-4 Tbg-dark">
											<% if(product.productOffer.offerPercentage > product.categoryOffer.discount ){ %> 
												<% var discount =  product.productOffer.offerPercentage %>
												<% }else{ %> 
													<% var discount =  product.categoryOffer.discount %>
											<% } %> 
	
										₹<%= (product.price) - (product.price/100)*discount  %> 
										<span class="stext-105 cl3">
											₹<strike><%= product.price %></strike>
											<b class="text-success"> <%= discount %>% off</b>
										</span>
										</span>
									<% }else if(product.productOfferActive){ %>  
										<span class="stext-105 cl3 d-flex justify-content-between w-100 px-4 Tbg-dark">
											<% let discount =  product.productOffer.offerPercentage %>
											₹<%= (product.price) - (product.price/100)*discount  %> 
											<span class="stext-105 cl3">
												₹<strike><%= product.price %></strike> <b class="text-success"> <%= discount %>% off</b>
											</span>
										</span>
									<% }else if(product.categoryOfferActive){ %> 
										<span class="stext-105 cl3 d-flex justify-content-between w-100 px-4 Tbg-dark">
											<% var discount =  product.categoryOffer.discount %>
											₹<%= (product.price) - (product.price/100)*discount  %> 
											<span class="stext-105 cl3">
												₹<strike><%= product.price %></strike> <b class="text-success"> <%= discount %>% off</b>
											</span>
										</span>
									<% }else{ %> 
										<span class="stext-105 cl3 px-4">
											₹<%= product.price %>
										</span>
									<% } %> 
									<!-- <p class="price"><span class="mr-2 price-dc"></span><span class="price-sale">$<%=
												product.price %></span></p> -->
								</div>
							</div>


						</div>
					</div>
				</div>
				<% }) %>

		</div>



					<script src="js/jquery.min.js"></script>
					<script src="js/jquery-migrate-3.0.1.min.js"></script>
					<script src="js/popper.min.js"></script>
					<script src="js/bootstrap.min.js"></script>
					<script src="js/jquery.easing.1.3.js"></script>
					<script src="js/jquery.waypoints.min.js"></script>
					<script src="js/jquery.stellar.min.js"></script>
					<script src="js/owl.carousel.min.js"></script>
					<script src="js/jquery.magnific-popup.min.js"></script>
					<script src="js/aos.js"></script>
					<script src="js/jquery.animateNumber.min.js"></script>
					<script src="js/bootstrap-datepicker.js"></script>
					<script src="js/scrollax.min.js"></script>
					<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
					<script src="js/google-map.js"></script>
					<script src="js/main.js"></script>

					</body>

					</html>





<script>
	function selectCategory(category){
		// document.getElementsByClassName('classToHide')[0].classList.add('d-none')
		var products1 = document.getElementsByClassName('commonClassForProducts');
            for (let i = 0; i < products1.length; i++) {
                products1[i].classList.add('d-none');
            }
			// document.getElementsByClassName(category)[0].classList.remove('d-none')
		var products2 = document.getElementsByClassName(category);
            for (let i = 0; i < products2.length; i++) {
                products2[i].classList.remove('d-none');
            }
	}

	function showAllProducts(){
		var products1 = document.getElementsByClassName('commonClassForProducts');
            for (let i = 0; i < products1.length; i++) {
                products1[i].classList.remove('d-none');
            }
	}
</script>