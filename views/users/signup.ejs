<section class="ftco-section">
  <div class="container">
    <div class="row no-gutters d-flex justify-content-center ftco-services ">

      <div class="row justify-content-center" style="width: 100%">
        <form class="form-horizontal col col-lg-8 col-md-8 col-sm-12 col-12" method="post" action="/signup">
          <% if(locals.signupError){ %>
            <h5 id="invalid" class="alert alert-danger">
              <%= msg %>
            </h5>
           <% } %>
          <div class="form-outline mb-4">
            <input type="text" id="name" class="form-control form-control" onkeyup="validateName()" name="name"  placeholder="Enter Name" required>
            <span id="name-error"></span>
          </div>

          <div class="form-outline mb-4">
            <input type="email" id="email" class="form-control form-control" onkeyup="validateEmail() "name="email" placeholder="Enter Email" required>
            <span id="email-error"></span>
          </div>

          <div class="form-outline mb-4">
            <input type="tel" id="phone" class="form-control form-control-lg" onkeyup="validatePhone()"name="phone"  placeholder="Enter Phone Number" required>
            <span id="phone-error"></span>
          </div>

          <div class="form-outline mb-4">
            <input type="password" id="password" class="form-control form-control-lg"onkeyup="validatePassword()" name="password" placeholder="Password" required>
            <span id="password-error"></span>
          </div>

          <div class="form-outline mb-4">
            <input type="password" id="submit" class="form-control form-control-lg" onkeyup="validatePassword()" name="cpassword" placeholder="Confirm Password" required>
            <span id="submit-error"></span>
          </div>

          <div class="d-flex justify-content-center">
            <button type="submit" class="btn btn-success btn-block btn-lg gradient-custom-4 text-body">Register</button>
          </div>

          <p class="text-center text-muted mt-5 mb-0">Have already an account? <a href="/login"
              class="fw-bold text-body"><u>Login
                here</u></a></p>

        </form>
      </div>

    </div>
  </div>
</section>
<script>
  var nameError = document.getElementById('name-error');
    var emailError = document.getElementById('email-error');
    var phoneError = document.getElementById('phone-error');
    var passwordError = document.getElementById('password-error');
    var submitError = document.getElementById('submit-error');
  
  
    function validateName() {
      var name = document.getElementById('name').value.trim();
      console.log(name);
  
      if (name.length == 0) {
        nameError.innerHTML = 'Name is Required';
        nameError.style.color = 'red'
        return false;
      }
  
      if (!name.match(/^[A-Za-z ]*$/)) {
        nameError.innerHTML = 'Write a FullName';
        nameError.style.color = 'red'
        return false;
      }
  
      if (name.length < 3) {
        nameError.innerHTML = 'Enter minimum 3 charactors';
        nameError.style.color = 'red'
        return false;
      }
  
      nameError.innerHTML = 'Name is valid';
      nameError.style.color = 'green'
      return true;
    }
  
    function validateEmail() {
      var email = document.getElementById('email').value.trim();
      if (email.length == 0) {
        emailError.innerHTML = 'Email is Required';
        emailError.style.color = 'red'
        return false;
      }
  
      if (!email.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)) {
        emailError.innerHTML = 'Email is Invalid';
        emailError.style.color = 'red'
        return false;
      }
      emailError.innerHTML = 'Email is valid';
      emailError.style.color = 'green'
      return true;
    }
  
    function validatePassword() {
      var password = document.getElementById('password').value.trim();
      var Required = 15;
      var left = Required - password.length;
  
      if (password.length == 0 || password.length < 10) {
        passwordError.innerHTML = 'More Character Required';
        passwordError.style.color = 'red'
        return false;
      }
      passwordError.innerHTML = 'Valid';
      passwordError.style.color = 'green'
      return true;
  
    }
  
    function validatePhone() {
      var phone = document.getElementById("phone").value.trim();
      if (phone.length == 0) {
        phoneError.innerHTML = 'Phone number is Required';
        phoneError.style.color = 'red'
        
        return false;
      }
      if (phone.length <= 9) {
        phoneError.innerHTML = "Enter Valid Phone Number"
        phoneError.style.color = "red"
        
        return false
  
      }
      if (phone.length >= 11) {
        phoneError.innerHTML = "Phone Number Must be 10 Digits"
        phoneError.style.color = "red"
        return false
  
      }
      if (!phone.match(/^\(?(\d{3})\)?[- ]?(\d{3})[- ]?(\d{4})$/)) {
        phoneError.innerHTML = "Phonenumber must be digits"
        phoneError.style.color("red")
  
  
        return false;
      }
      phoneError.innerHTML = ""
      phoneError.innerHTML = "Phone Number is valid"
      phoneError.style.color = 'green'
      return true;
  
  
    }
    jQuery_1_7_1(document).on("submit","form", function(e){
      if (validateName() && validateEmail() && validatePhone() && validatePassword()) {
      
      }else{
        e.preventDefault();
        alert('invalid data')
      return false;
      }
    })


  </script>